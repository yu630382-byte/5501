<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册 - HK Buddy</title>
    <!-- 外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Tailwind 配置（与首页保持一致） -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1E40AF', // 主蓝
                        secondary: '#3B82F6', // 次蓝
                        accent: '#F59E0B', // 橙色强调
                        light: '#F9FAFB', // 浅灰背景
                        dark: '#1F2937', // 深灰文本
                        success: '#10B981', // 成功绿
                        danger: '#EF4444', // 错误红
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    boxShadow: {
                        'card': '0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -2px rgba(0, 0, 0, 0.04)',
                        'card-hover': '0 20px 25px -5px rgba(0, 0, 0, 0.12), 0 10px 10px -5px rgba(0, 0, 0, 0.06)',
                        'btn': '0 4px 6px -1px rgba(30, 64, 175, 0.2)',
                    }
                },
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
            }
            .text-gradient {
                background-clip: text;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
            .hover-lift {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            .hover-lift:hover {
                transform: translateY(-5px);
            }
            .input-focus {
                @apply focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none;
            }
        }
    </style>
    
    <!-- 全局样式 -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', system-ui, sans-serif;
        }
        
        /* 加载动画 */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #F3F4F6;
            border-top: 5px solid #1E40AF;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* 表单动画 */
        .form-input {
            transition: all 0.3s ease;
        }
        
        .form-input:focus + .floating-label,
        .form-input:not(:placeholder-shown) + .floating-label {
            transform: translateY(-1.5rem) scale(0.85);
            color: #1E40AF;
        }
        
        /* 按钮波纹效果 */
        .btn-ripple {
            position: relative;
            overflow: hidden;
        }
        
        .btn-ripple:after {
            content: "";
            background: rgba(255, 255, 255, 0.2);
            position: absolute;
            border-radius: 50%;
            transform: scale(0);
            animation: ripple 0.6s linear;
        }
        
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        /* 密码强度指示器 */
        .password-strength {
            height: 4px;
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- 页面加载动画 -->
    <div class="loader">
        <div class="spinner"></div>
    </div>

    <!-- 导航栏（与首页保持一致） -->
    <header id="navbar" class="fixed w-full top-0 z-50 transition-all duration-300 bg-white/90 backdrop-blur-md shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16 md:h-20">
                <!-- Logo -->
                <a href="index.html" class="flex items-center space-x-2">
                    <div class="w-10 h-10 rounded-lg bg-primary flex items-center justify-center">
                        <i class="fa fa-shopping-bag text-white text-xl"></i>
                    </div>
                    <span class="text-xl md:text-2xl font-bold bg-gradient-to-r from-primary to-secondary text-gradient">HK Buddy</span>
                </a>
                
                <!-- 桌面端导航 -->
                <nav class="hidden md:flex items-center space-x-8">
                    <a href="index.html#home" class="font-medium text-gray-600 hover:text-primary px-1 py-2 transition-colors">首页</a>
                    <a href="index.html#categories" class="font-medium text-gray-600 hover:text-primary px-1 py-2 transition-colors">分类</a>
                    <a href="index.html#featured" class="font-medium text-gray-600 hover:text-primary px-1 py-2 transition-colors">精选商品</a>
                    <a href="index.html#services" class="font-medium text-gray-600 hover:text-primary px-1 py-2 transition-colors">特色服务</a>
                    <a href="index.html#about" class="font-medium text-gray-600 hover:text-primary px-1 py-2 transition-colors">关于我们</a>
                </nav>
                
                <!-- 操作按钮 -->
                <div class="flex items-center space-x-3">
                    <a href="search.html" class="p-2 text-gray-600 hover:text-primary hover:bg-gray-100 rounded-full transition-all">
                        <i class="fa fa-search text-lg"></i>
                    </a>
                    <a href="login.html" class="hidden sm:inline-block px-4 py-2 text-primary font-medium hover:text-secondary transition-colors">登录</a>
                    <a href="signup.html" class="px-4 py-2 bg-primary text-white font-medium rounded-lg shadow-btn hover:bg-primary/90 btn-ripple transition-all">注册</a>
                    
                    <!-- 移动端菜单按钮 -->
                    <button id="menu-toggle" class="md:hidden p-2 text-gray-600 hover:text-primary hover:bg-gray-100 rounded-full transition-all">
                        <i class="fa fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 移动端导航菜单 -->
        <div id="mobile-menu" class="md:hidden hidden bg-white border-t">
            <div class="container mx-auto px-4 py-3 space-y-3">
                <a href="index.html#home" class="block font-medium text-gray-600 hover:text-primary px-1 py-2">首页</a>
                <a href="index.html#categories" class="block font-medium text-gray-600 hover:text-primary px-1 py-2">分类</a>
                <a href="index.html#featured" class="block font-medium text-gray-600 hover:text-primary px-1 py-2">精选商品</a>
                <a href="index.html#services" class="block font-medium text-gray-600 hover:text-primary px-1 py-2">特色服务</a>
                <a href="index.html#about" class="block font-medium text-gray-600 hover:text-primary px-1 py-2">关于我们</a>
                <a href="login.html" class="block font-medium text-primary px-1 py-2">登录</a>
            </div>
        </div>
    </header>

    <main class="pt-16 md:pt-20">
        <!-- 注册区域 -->
        <section class="py-16 md:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-md mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-dark mb-3">创建账户</h2>
                        <p class="text-gray-600">加入 HK Market，开启便捷的留学生交易体验</p>
                    </div>
                    
                    <!-- 注册表单 -->
                    <div class="bg-white rounded-2xl shadow-card p-6 md:p-8 hover-lift">
                        <form id="signupForm" class="space-y-6">
                            <!-- 用户名 -->
                            <div class="relative">
                                <input type="text" id="username" name="username" 
                                       class="form-input w-full px-4 py-3 rounded-lg border border-gray-300 input-focus"
                                       placeholder=" " required>
                                <label for="username" class="floating-label absolute left-4 top-3 text-gray-500 transition-all pointer-events-none">
                                    用户名
                                </label>
                                <div class="error-message text-danger text-sm mt-1 hidden">
                                    <i class="fa fa-exclamation-circle mr-1"></i>
                                    <span>请输入用户名</span>
                                </div>
                            </div>
                            
                            <!-- 邮箱 -->
                            <div class="relative">
                                <input type="email" id="email" name="email" 
                                       class="form-input w-full px-4 py-3 rounded-lg border border-gray-300 input-focus"
                                       placeholder=" " required>
                                <label for="email" class="floating-label absolute left-4 top-3 text-gray-500 transition-all pointer-events-none">
                                    电子邮箱
                                </label>
                                <div class="error-message text-danger text-sm mt-1 hidden">
                                    <i class="fa fa-exclamation-circle mr-1"></i>
                                    <span>请输入有效的电子邮箱</span>
                                </div>
                            </div>
                            
                            <!-- 密码 -->
                            <div class="relative">
                                <input type="password" id="password" name="password" 
                                       class="form-input w-full px-4 py-3 rounded-lg border border-gray-300 input-focus"
                                       placeholder=" " required>
                                <label for="password" class="floating-label absolute left-4 top-3 text-gray-500 transition-all pointer-events-none">
                                    设置密码
                                </label>
                                <button type="button" id="togglePassword" class="absolute right-4 top-3 text-gray-500 hover:text-primary transition-colors">
                                    <i class="fa fa-eye-slash"></i>
                                </button>
                                <div class="error-message text-danger text-sm mt-1 hidden">
                                    <i class="fa fa-exclamation-circle mr-1"></i>
                                    <span>请输入密码</span>
                                </div>
                                
                                <!-- 密码强度指示器 -->
                                <div class="mt-2">
                                    <div class="flex space-x-1">
                                        <div id="strength-1" class="password-strength flex-1 bg-gray-200 rounded-full"></div>
                                        <div id="strength-2" class="password-strength flex-1 bg-gray-200 rounded-full"></div>
                                        <div id="strength-3" class="password-strength flex-1 bg-gray-200 rounded-full"></div>
                                        <div id="strength-4" class="password-strength flex-1 bg-gray-200 rounded-full"></div>
                                    </div>
                                    <p id="strength-text" class="text-xs text-gray-500 mt-1">密码强度：未输入</p>
                                </div>
                            </div>
                            
                            <!-- 确认密码 -->
                            <div class="relative">
                                <input type="password" id="confirmPassword" name="confirmPassword" 
                                       class="form-input w-full px-4 py-3 rounded-lg border border-gray-300 input-focus"
                                       placeholder=" " required>
                                <label for="confirmPassword" class="floating-label absolute left-4 top-3 text-gray-500 transition-all pointer-events-none">
                                    确认密码
                                </label>
                                <button type="button" id="toggleConfirmPassword" class="absolute right-4 top-3 text-gray-500 hover:text-primary transition-colors">
                                    <i class="fa fa-eye-slash"></i>
                                </button>
                                <div class="error-message text-danger text-sm mt-1 hidden">
                                    <i class="fa fa-exclamation-circle mr-1"></i>
                                    <span>两次输入的密码不一致</span>
                                </div>
                            </div>
                            
                            <!-- 学校选择 -->
                            <div class="relative">
                                <select id="university" name="university" 
                                       class="form-input w-full px-4 py-3 rounded-lg border border-gray-300 input-focus appearance-none bg-white"
                                       required>
                                    <option value="" disabled selected></option>
                                    <option value="hku">香港大学 (HKU)</option>
                                    <option value="cuhk">香港中文大学 (CUHK)</option>
                                    <option value="hkust">香港科技大学 (HKUST)</option>
                                    <option value="polyu">香港理工大学 (PolyU)</option>
                                    <option value="cityu">香港城市大学 (CityU)</option>
                                    <option value="hkbu">香港浸会大学 (HKBU)</option>
                                    <option value="lingnan">岭南大学 (Lingnan)</option>
                                    <option value="edu">香港教育大学 (EdUHK)</option>
                                    <option value="other">其他院校</option>
                                </select>
                                <label for="university" class="floating-label absolute left-4 top-3 text-gray-500 transition-all pointer-events-none">
                                    所在院校
                                </label>
                                <i class="fa fa-chevron-down absolute right-4 top-3 text-gray-500 pointer-events-none"></i>
                                <div class="error-message text-danger text-sm mt-1 hidden">
                                    <i class="fa fa-exclamation-circle mr-1"></i>
                                    <span>请选择你的院校</span>
                                </div>
                            </div>
                            
                            <!-- 同意条款 -->
                            <label class="flex items-start space-x-3 cursor-pointer">
                                <input type="checkbox" id="agreeTerms" name="agreeTerms" 
                                       class="w-4 h-4 mt-1 text-primary rounded border-gray-300 focus:ring-primary" required>
                                <span class="text-gray-600 text-sm">
                                    我已阅读并同意 <a href="terms.html" class="text-primary hover:text-secondary transition-colors">服务条款</a> 和 <a href="privacy.html" class="text-primary hover:text-secondary transition-colors">隐私政策</a>
                                </span>
                            </label>
                            <div class="error-message text-danger text-sm mt-0 hidden">
                                <i class="fa fa-exclamation-circle mr-1"></i>
                                <span>请同意服务条款和隐私政策</span>
                            </div>
                            
                            <!-- 注册按钮 -->
                            <button type="submit" class="w-full py-3 bg-primary text-white font-semibold rounded-lg shadow-btn hover:bg-primary/90 btn-ripple transition-all">
                                注册账户
                            </button>
                            
                            <!-- 分隔线 -->
                            <div class="relative flex items-center">
                                <div class="flex-grow border-t border-gray-300"></div>
                                <span class="flex-shrink mx-4 text-gray-500 text-sm">或使用以下方式注册</span>
                                <div class="flex-grow border-t border-gray-300"></div>
                            </div>
                            
                            <!-- 社交媒体注册 -->
                            <div class="grid grid-cols-3 gap-3">
                                <button type="button" class="flex items-center justify-center py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all">
                                    <i class="fa fa-google text-red-500 text-xl"></i>
                                </button>
                                <button type="button" class="flex items-center justify-center py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all">
                                    <i class="fa fa-facebook text-blue-600 text-xl"></i>
                                </button>
                                <button type="button" class="flex items-center justify-center py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all">
                                    <i class="fa fa-wechat text-green-500 text-xl"></i>
                                </button>
                            </div>
                        </form>
                        
                        <!-- 登录提示 -->
                        <div class="mt-6 text-center">
                            <p class="text-gray-600">
                                已有账户？
                                <a href="login.html" class="text-primary font-medium hover:text-secondary transition-colors">立即登录</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚（与首页保持一致） -->
    <footer class="bg-dark text-white pt-16 pb-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <div>
                    <div class="flex items-center space-x-2 mb-6">
                        <div class="w-10 h-10 rounded-lg bg-white flex items-center justify-center">
                            <i class="fa fa-shopping-bag text-primary text-xl"></i>
                        </div>
                        <span class="text-xl font-bold">HK Buddy</span>
                    </div>
                    <p class="text-gray-400 mb-6">
                        香港留学生的一站式交易平台，让留学生活更便捷、更省钱、更精彩。
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-primary hover:text-white transition-all">
                            <i class="fa fa-facebook"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-primary hover:text-white transition-all">
                            <i class="fa fa-instagram"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-primary hover:text-white transition-all">
                            <i class="fa fa-wechat"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-primary hover:text-white transition-all">
                            <i class="fa fa-linkedin"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">快速链接</h3>
                    <ul class="space-y-3">
                        <li><a href="index.html#home" class="text-gray-400 hover:text-white transition-colors">首页</a></li>
                        <li><a href="index.html#categories" class="text-gray-400 hover:text-white transition-colors">商品分类</a></li>
                        <li><a href="index.html#featured" class="text-gray-400 hover:text-white transition-colors">精选商品</a></li>
                        <li><a href="index.html#services" class="text-gray-400 hover:text-white transition-colors">特色服务</a></li>
                        <li><a href="about.html" class="text-gray-400 hover:text-white transition-colors">关于我们</a></li>
                        <li><a href="contact.html" class="text-gray-400 hover:text-white transition-colors">联系我们</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">帮助中心</h3>
                    <ul class="space-y-3">
                        <li><a href="faq.html" class="text-gray-400 hover:text-white transition-colors">常见问题</a></li>
                        <li><a href="terms.html" class="text-gray-400 hover:text-white transition-colors">服务条款</a></li>
                        <li><a href="privacy.html" class="text-gray-400 hover:text-white transition-colors">隐私政策</a></li>
                        <li><a href="safety.html" class="text-gray-400 hover:text-white transition-colors">交易安全</a></li>
                        <li><a href="refund.html" class="text-gray-400 hover:text-white transition-colors">退款政策</a></li>
                        <li><a href="report.html" class="text-gray-400 hover:text-white transition-colors">投诉举报</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">联系我们</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i class="fa fa-map-marker text-primary mt-1 mr-3"></i>
                            <span class="text-gray-400">香港中环皇后大道中1号</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-envelope text-primary mr-3"></i>
                            <span class="text-gray-400">support@hkbuddy.com</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-phone text-primary mr-3"></i>
                            <span class="text-gray-400">+852 1234 5678</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-clock-o text-primary mr-3"></i>
                            <span class="text-gray-400">周一至周日 9:00-21:00</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-500 text-sm mb-4 md:mb-0">
                        &copy; 2025 HK Buddy. 保留所有权利。
                    </p>
                    <div class="flex space-x-6">
                        <a href="terms.html" class="text-gray-500 text-sm hover:text-gray-300 transition-colors">服务条款</a>
                        <a href="privacy.html" class="text-gray-500 text-sm hover:text-gray-300 transition-colors">隐私政策</a>
                        <a href="cookies.html" class="text-gray-500 text-sm hover:text-gray-300 transition-colors">Cookie 政策</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- 回到顶部按钮 -->
    <button id="back-to-top" class="fixed bottom-6 right-6 w-12 h-12 bg-primary text-white rounded-full shadow-lg flex items-center justify-center opacity-0 invisible transition-all duration-300 hover:bg-primary/90">
        <i class="fa fa-arrow-up"></i>
    </button>

    <!-- JavaScript -->
    <script>
        // 页面加载动画
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.querySelector('.loader').classList.add('hidden');
            }, 600);
        });
        
        // 导航栏滚动效果
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', function() {
            if (window.scrollY > 50) {
                navbar.classList.add('nav-scrolled');
            } else {
                navbar.classList.remove('nav-scrolled');
            }
        });
        
        // 移动端菜单切换
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        
        menuToggle.addEventListener('click', function() {
            mobileMenu.classList.toggle('hidden');
            const icon = menuToggle.querySelector('i');
            if (icon.classList.contains('fa-bars')) {
                icon.classList.replace('fa-bars', 'fa-times');
            } else {
                icon.classList.replace('fa-times', 'fa-bars');
            }
        });
        
        // 回到顶部按钮
        const backToTopBtn = document.getElementById('back-to-top');
        
        window.addEventListener('scroll', function() {
            if (window.scrollY > 300) {
                backToTopBtn.classList.remove('opacity-0', 'invisible');
                backToTopBtn.classList.add('opacity-100', 'visible');
            } else {
                backToTopBtn.classList.add('opacity-0', 'invisible');
                backToTopBtn.classList.remove('opacity-100', 'visible');
            }
        });
        
        backToTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // 密码显示/隐藏切换
        const togglePassword = document.getElementById('togglePassword');
        const passwordInput = document.getElementById('password');
        const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        
        togglePassword.addEventListener('click', function() {
            togglePasswordVisibility(passwordInput, this);
        });
        
        toggleConfirmPassword.addEventListener('click', function() {
            togglePasswordVisibility(confirmPasswordInput, this);
        });
        
        function togglePasswordVisibility(input, button) {
            const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
            input.setAttribute('type', type);
            
            // 切换图标
            const icon = button.querySelector('i');
            if (icon.classList.contains('fa-eye-slash')) {
                icon.classList.replace('fa-eye-slash', 'fa-eye');
            } else {
                icon.classList.replace('fa-eye', 'fa-eye-slash');
            }
        }
        
        // 密码强度检测
        passwordInput.addEventListener('input', function() {
            const password = this.value;
            const strength1 = document.getElementById('strength-1');
            const strength2 = document.getElementById('strength-2');
            const strength3 = document.getElementById('strength-3');
            const strength4 = document.getElementById('strength-4');
            const strengthText = document.getElementById('strength-text');
            
            // 重置强度指示器
            [strength1, strength2, strength3, strength4].forEach(el => {
                el.className = 'password-strength flex-1 bg-gray-200 rounded-full';
            });
            
            if (password.length === 0) {
                strengthText.textContent = '密码强度：未输入';
                return;
            }
            
            // 简单的密码强度检测逻辑
            let strength = 0;
            
            // 长度检测
            if (password.length >= 6) strength++;
            if (password.length >= 10) strength++;
            
            // 复杂度检测
            if (/[A-Z]/.test(password) && /[a-z]/.test(password)) strength++;
            if (/[0-9]/.test(password) && /[^A-Za-z0-9]/.test(password)) strength++;
            
            // 更新强度指示器
            for (let i = 1; i <= strength; i++) {
                const el = document.getElementById(`strength-${i}`);
                if (i === 1) el.className = 'password-strength flex-1 bg-danger rounded-full';
                if (i === 2) el.className = 'password-strength flex-1 bg-orange-500 rounded-full';
                if (i === 3) el.className = 'password-strength flex-1 bg-yellow-500 rounded-full';
                if (i === 4) el.className = 'password-strength flex-1 bg-success rounded-full';
            }
            
            // 更新强度文本
            const strengthLabels = ['弱', '中', '较强', '强'];
            strengthText.textContent = `密码强度：${strengthLabels[strength - 1] || '弱'}`;
        });
        
        // 表单验证
        const signupForm = document.getElementById('signupForm');
        const usernameInput = document.getElementById('username');
        const emailInput = document.getElementById('email');
        const universityInput = document.getElementById('university');
        const agreeTermsInput = document.getElementById('agreeTerms');
        
        signupForm.addEventListener('submit', function(e) {
            e.preventDefault();
            let isValid = true;
            
            // 验证用户名
            if (!usernameInput.value.trim()) {
                showError(usernameInput, '请输入用户名');
                isValid = false;
            } else if (usernameInput.value.length < 3) {
                showError(usernameInput, '用户名长度不能少于3位');
                isValid = false;
            } else {
                hideError(usernameInput);
            }
            
            // 验证邮箱
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailInput.value.trim()) {
                showError(emailInput, '请输入电子邮箱');
                isValid = false;
            } else if (!emailRegex.test(emailInput.value.trim())) {
                showError(emailInput, '请输入有效的电子邮箱');
                isValid = false;
            } else {
                hideError(emailInput);
            }
            
            // 验证密码
            if (!passwordInput.value.trim()) {
                showError(passwordInput, '请设置密码');
                isValid = false;
            } else if (passwordInput.value.length < 6) {
                showError(passwordInput, '密码长度不能少于6位');
                isValid = false;
            } else {
                hideError(passwordInput);
            }
            
            // 验证确认密码
            if (!confirmPasswordInput.value.trim()) {
                showError(confirmPasswordInput, '请确认密码');
                isValid = false;
            } else if (confirmPasswordInput.value !== passwordInput.value) {
                showError(confirmPasswordInput, '两次输入的密码不一致');
                isValid = false;
            } else {
                hideError(confirmPasswordInput);
            }
            
            // 验证学校选择
            if (!universityInput.value) {
                showError(universityInput, '请选择你的院校');
                isValid = false;
            } else {
                hideError(universityInput);
            }
            
            // 验证同意条款
            if (!agreeTermsInput.checked) {
                showError(agreeTermsInput, '请同意服务条款和隐私政策');
                isValid = false;
            } else {
                hideError(agreeTermsInput);
            }
            
            // 如果表单验证通过，可以在这里添加注册逻辑
            if (isValid) {
                // 模拟注册成功，显示成功提示
                alert('注册成功！请登录你的账户');
                window.location.href = 'login.html';
            }
        });
        
        // 输入框聚焦/失焦验证
        usernameInput.addEventListener('blur', function() {
            if (!this.value.trim()) {
                showError(this, '请输入用户名');
            } else if (this.value.length < 3) {
                showError(this, '用户名长度不能少于3位');
            } else {
                hideError(this);
            }
        });
        
        emailInput.addEventListener('blur', function() {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!this.value.trim()) {
                showError(this, '请输入电子邮箱');
            } else if (!emailRegex.test(this.value.trim())) {
                showError(this, '请输入有效的电子邮箱');
            } else {
                hideError(this);
            }
        });
        
        passwordInput.addEventListener('blur', function() {
            if (!this.value.trim()) {
                showError(this, '请设置密码');
            } else if (this.value.length < 6) {
                showError(this, '密码长度不能少于6位');
            } else {
                hideError(this);
            }
        });
        
        confirmPasswordInput.addEventListener('blur', function() {
            if (!this.value.trim()) {
                showError(this, '请确认密码');
            } else if (this.value !== passwordInput.value) {
                showError(this, '两次输入的密码不一致');
            } else {
                hideError(this);
            }
        });
        
        universityInput.addEventListener('blur', function() {
            if (!this.value) {
                showError(this, '请选择你的院校');
            } else {
                hideError(this);
            }
        });
        
        agreeTermsInput.addEventListener('change', function() {
            if (!this.checked) {
                showError(this, '请同意服务条款和隐私政策');
            } else {
                hideError(this);
            }
        });
        
        // 显示错误信息
        function showError(input, message) {
            let errorElement;
            
            // 特殊处理同意条款的错误信息
            if (input.id === 'agreeTerms') {
                errorElement = document.querySelector('label[for="agreeTerms"]').nextElementSibling;
            } else {
                errorElement = input.nextElementSibling.nextElementSibling;
                // 对于select元素，调整错误信息位置
                if (input.tagName === 'SELECT') {
                    errorElement = input.nextElementSibling.nextElementSibling.nextElementSibling;
                }
                // 对于密码框，跳过强度指示器
                if (input.id === 'password') {
                    errorElement = document.querySelector('#password').parentNode.querySelector('.error-message');
                }
            }
            
            errorElement.querySelector('span').textContent = message;
            errorElement.classList.remove('hidden');
            input.classList.add('border-danger');
            input.classList.remove('border-gray-300');
        }
        
        // 隐藏错误信息
        function hideError(input) {
            let errorElement;
            
            if (input.id === 'agreeTerms') {
                errorElement = document.querySelector('label[for="agreeTerms"]').nextElementSibling;
            } else {
                errorElement = input.nextElementSibling.nextElementSibling;
                if (input.tagName === 'SELECT') {
                    errorElement = input.nextElementSibling.nextElementSibling.nextElementSibling;
                }
                if (input.id === 'password') {
                    errorElement = document.querySelector('#password').parentNode.querySelector('.error-message');
                }
            }
            
            errorElement.classList.add('hidden');
            input.classList.remove('border-danger');
            input.classList.add('border-gray-300');
        }
        
        // 按钮波纹效果触发
        document.querySelectorAll('.btn-ripple').forEach(button => {
            button.addEventListener('click', function(e) {
                const x = e.clientX - e.target.getBoundingClientRect().left;
                const y = e.clientY - e.target.getBoundingClientRect().top;
                
                const ripple = document.createElement('span');
                ripple.style.width = ripple.style.height = Math.max(e.target.offsetWidth, e.target.offsetHeight) + 'px';
                ripple.style.left = x - (parseInt(ripple.style.width) / 2) + 'px';
                ripple.style.top = y - (parseInt(ripple.style.height) / 2) + 'px';
                ripple.classList.add('ripple');
                
                const rippleOld = e.target.querySelector('.ripple');
                if (rippleOld) {
                    rippleOld.remove();
                }
                
                e.target.appendChild(ripple);
            });
        });
    </script>
</body>
</html>